{"version":3,"sources":["../../src/pages/signup/signup.module.ts","../../src/validators/email.ts","../../src/pages/signup/signup.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACV;AAMtC;IAAA;IAA+B,CAAC;IAAnB,gBAAgB;QAJ5B,uEAAQ,CAAC;YACR,YAAY,EAAE,CAAC,2DAAU,CAAC;YAC1B,OAAO,EAAE,CAAC,sEAAe,CAAC,QAAQ,CAAC,2DAAU,CAAC,CAAC;SAChD,CAAC;OACW,gBAAgB,CAAG;IAAD,uBAAC;CAAA;AAAH;;;;;;;;;ACN7B;AAAA;IAAA;IAcA,CAAC;IAbQ,sBAAO,GAAd,UAAe,OAAoB;QACjC,IAAM,EAAE,GAAG,4DAA4D,CAAC,IAAI,CAC1E,OAAO,CAAC,KAAK,CACd,CAAC;QAEF,IAAI,EAAE,EAAE;YACN,OAAO,IAAI,CAAC;SACb;QAED,OAAO;YACL,YAAY,EAAE,IAAI;SACnB,CAAC;IACJ,CAAC;IACH,qBAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBmE;AACZ;AACY;AAC1B;AACwD;AAOlG;IAEE,oBACS,OAAsB,EACtB,SAA0B,EAC1B,WAA8B,EAC9B,YAA0B,EACjC,WAAwB;QAJjB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAiB;QAC1B,gBAAW,GAAX,WAAW,CAAmB;QAC9B,iBAAY,GAAZ,YAAY,CAAc;QAGjC,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC,KAAK,CAAC;YAClC,KAAK,EAAE;gBACL,EAAE;gBACF,kEAAU,CAAC,OAAO,CAAC,CAAC,kEAAU,CAAC,QAAQ,EAAE,yEAAc,CAAC,OAAO,CAAC,CAAC;aAClE;YACD,QAAQ,EAAE;gBACR,EAAE;gBACF,kEAAU,CAAC,OAAO,CAAC,CAAC,kEAAU,CAAC,QAAQ,EAAE,kEAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;aACnE;SACF,CAAC,CAAC;IACL,CAAC;IAEK,+BAAU,GAAhB;;;;;;6BACM,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAtB,wBAAsB;wBACxB,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;;;wBAE1B,OAAO,SAAS,CAAC;wBAErB,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;wBAEpC,OAAO,CAAC,OAAO,EAAE,CAAC;wBAEZ,KAAK,GAAW,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC;wBAE5C,QAAQ,GAAW,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC;;;;wBAGtD,qBAAM,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,KAAK,EAAE,QAAQ,CAAC;;wBAAxD,SAAwD,CAAC;wBACzD,qBAAM,OAAO,CAAC,OAAO,EAAE;;wBAAvB,SAAuB,CAAC;wBACxB,OAAO,CAAC,GAAG,CAAC,kCAAkC,CAAC,CAAC;;;;wBAEhD,qBAAM,OAAO,CAAC,OAAO,EAAE;;wBAAvB,SAAuB,CAAC;wBACxB,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;wBAC9B,UAAe,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;4BACzC,OAAO,EAAE,OAAK,CAAC,OAAO;4BACtB,OAAO,EAAE;gCACP;oCACE,IAAI,EAAE,IAAI;oCACV,IAAI,EAAE,QAAQ;iCACf;6BACF;yBACF,CAAC,CAAC;wBACH,OAAK,CAAC,OAAO,EAAE,CAAC;;;;;;KAGrB;IAED,oCAAoC;IACpC,mCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;IAC3C,CAAC;IA3DU,UAAU;QAJtB,wEAAS,CAAC;YACT,QAAQ,EAAE,aAAa;WACG;SAC3B,CAAC;mFAI+B;YACX,wEAAe;YACb,oFAAiB;YAChB,oEAAY;YACpB,OAAW;OAPf,UAAU,CA4DtB;IAAD,CAAC;AAAA;SA5DY,UAAU,e","file":"1.js","sourcesContent":["import { NgModule } from \"@angular/core\";\nimport { IonicPageModule } from \"ionic-angular\";\nimport { SignupPage } from \"./signup\";\n\n@NgModule({\n  declarations: [SignupPage],\n  imports: [IonicPageModule.forChild(SignupPage)]\n})\nexport class SignupPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.module.ts","import { FormControl } from \"@angular/forms\";\n\nexport class EmailValidator {\n  static isValid(control: FormControl) {\n    const re = /^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$/.test(\n      control.value\n    );\n\n    if (re) {\n      return null;\n    }\n\n    return {\n      invalidEmail: true\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/validators/email.ts","import { AuthProvider } from \"./../../providers/auth/auth.provider\";\nimport { EmailValidator } from \"../../validators/email\";\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { Component } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  AlertController,\n  LoadingController,\n  Alert,\n  Loading\n} from \"ionic-angular\";\n\n@IonicPage()\n@Component({\n  selector: \"page-signup\",\n  templateUrl: \"signup.html\"\n})\nexport class SignupPage {\n  signupForm: FormGroup;\n  constructor(\n    public navCtrl: NavController,\n    public alertCtrl: AlertController,\n    public loadingCtrl: LoadingController,\n    public authProvider: AuthProvider,\n    formBuilder: FormBuilder\n  ) {\n    this.signupForm = formBuilder.group({\n      email: [\n        \"\",\n        Validators.compose([Validators.required, EmailValidator.isValid])\n      ],\n      password: [\n        \"\",\n        Validators.compose([Validators.required, Validators.minLength(6)])\n      ]\n    });\n  }\n\n  async signupUser(): Promise<any> {\n    if (!this.signupForm.valid) {\n      console.log(\"Form not ready\");\n    } else {\n      let loading: Loading;\n\n      loading = this.loadingCtrl.create();\n\n      loading.present();\n\n      const email: string = this.signupForm.value.email;\n\n      const password: string = this.signupForm.value.password;\n\n      try {\n        await this.authProvider.createAdminUser(email, password);\n        await loading.dismiss();\n        console.log(\"Admin user successfully created.\");\n      } catch (error) {\n        await loading.dismiss();\n        console.log(\"error from signup.ts\");\n        const alert: Alert = this.alertCtrl.create({\n          message: error.message,\n          buttons: [\n            {\n              text: \"Ok\",\n              role: \"cancel\"\n            }\n          ]\n        });\n        alert.present();\n      }\n    }\n  }\n\n  // TODO: Remove loading confirmation\n  ionViewDidLoad() {\n    console.log(\"ionViewDidLoad SignupPage\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts"],"sourceRoot":""}